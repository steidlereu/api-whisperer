<div class="row">
    <div class="col-md-auto sizable">
        <app-openapi-workspace></app-openapi-workspace>
    </div>
    <div class="col border-start">
      <div class="container mt-5">
        <div *ngIf="activeProduct !== null" class="row">
          <div class="col mb-5">
            <h1>{{activeProduct?.name}}</h1>
            <markdown [src]="activeProduct?.description"></markdown>
          </div>
        </div>
        <div *ngIf="activeDomain !== null" class="row">
          <div class="col mb-5">
            <h2>{{activeDomain?.name}}</h2>
            <markdown [src]="activeDomain?.description"></markdown>
          </div>
        </div>
        <div *ngIf="activeProduct !== null" class="row">
          <div class="col mb-5 d-flex justify-content-between align-items-center">
            <h3>{{activeService?.name}}</h3>
            <div class="btn-group" dropdown>
              <button id="button-basic" dropdownToggle type="button" class="btn btn-outline-primary dropdown-toggle"
                      aria-controls="dropdown-basic">Versions<span class="caret"></span>
              </button>
              <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
                  role="menu" aria-labelledby="button-basic">
                @for (service of sortServiceContent(activeService?.content) ; track service.version) {
                  <li [attr.data-version-raw-id]="service.version" role="menuitem"><a class="dropdown-item" href="#">{{service.displayVersion}}</a></li>
                }
              </ul>
            </div>
          </div>
        </div>
        <div class="row">
          <tabset [justified]="true">
            <tab heading="Swagger UI">
              <div class="col border-start border-end">
                <app-openapi-swagger-ui></app-openapi-swagger-ui>
              </div>
            </tab>
            <tab heading="OpenAPI" (selectTab)="onSelect($event)">
              <div class="col border-start border-end">
                <app-openapi-yaml-editor></app-openapi-yaml-editor>
              </div>
            </tab>
            <tab heading="Description">
              <div class="border-start border-end pt-5 pb-5" style="padding: 0 20px;">
                <markdown src="assets/coffee-shop.md"></markdown>
              </div>
            </tab>
          </tabset>
        </div>
      </div>
    </div>
</div>
